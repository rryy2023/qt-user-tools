# ä¿®å¤ Git Push HTTP 400 é”™è¯¯

## ğŸ› é—®é¢˜

```
error: RPC failed; HTTP 400 curl 22 The requested URL returned error: 400
send-pack: unexpected disconnect while reading sideband packet
Writing objects: 100% (117/117), 2.79 MiB | 3.79 MiB/s, done.
```

## ğŸ” åŸå› 

1. **æ¨é€æ•°æ®åŒ…å¤ªå¤§**ï¼ˆ2.79 MiBï¼‰
2. **HTTP ç¼“å†²åŒºé™åˆ¶**
3. **GitHub çš„ HTTP è¯·æ±‚å¤§å°é™åˆ¶**

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šå¢åŠ  Git HTTP ç¼“å†²åŒºï¼ˆæ¨èï¼‰

```bash
# æœ¬åœ°ä»“åº“é…ç½®ï¼ˆæ¨èï¼‰
cd /Users/xuwei/Downloads/happy/qt-user-tools
git config http.postBuffer 524288000
git config http.maxRequestBuffer 100M

# ç„¶åé‡è¯•æ¨é€
git push origin main
```

### æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ SSH ä»£æ›¿ HTTPS

```bash
# 1. ä¿®æ”¹è¿œç¨‹åœ°å€ä¸º SSH
git remote set-url origin git@github.com:rryy2023/qt-user-tools.git

# 2. æµ‹è¯• SSH è¿æ¥
ssh -T git@github.com

# 3. æ¨é€
git push origin main
```

### æ–¹æ¡ˆ 3ï¼šåˆ†æ‰¹æ¨é€ï¼ˆå¦‚æœæ–‡ä»¶å¾ˆå¤šï¼‰

```bash
# 1. æ£€æŸ¥è¦æ¨é€çš„æ–‡ä»¶
git log origin/main..HEAD --oneline

# 2. å¦‚æœæäº¤å¤ªå¤šï¼Œå¯ä»¥åˆ†æ‰¹æ¨é€
# å…ˆæ¨é€æœ€è¿‘çš„å‡ ä¸ªæäº¤
git push origin HEAD~5:main
git push origin main
```

### æ–¹æ¡ˆ 4ï¼šæ£€æŸ¥å¹¶ç§»é™¤å¤§æ–‡ä»¶

```bash
# æ£€æŸ¥æ˜¯å¦æœ‰å¤§æ–‡ä»¶
find . -type f -size +1M -not -path "./.git/*" -not -path "./venv*/*" -not -path "./dist/*" -not -path "./build/*"

# å¦‚æœå‘ç°å¤§æ–‡ä»¶ï¼Œä» Git å†å²ä¸­ç§»é™¤
git filter-branch --force --index-filter \
  "git rm --cached --ignore-unmatch <å¤§æ–‡ä»¶è·¯å¾„>" \
  --prune-empty --tag-name-filter cat -- --all
```

## ğŸš€ å¿«é€Ÿä¿®å¤ï¼ˆç«‹å³æ‰§è¡Œï¼‰

```bash
cd /Users/xuwei/Downloads/happy/qt-user-tools

# 1. å¢åŠ ç¼“å†²åŒº
git config http.postBuffer 524288000
git config http.maxRequestBuffer 100M

# 2. é‡è¯•æ¨é€
git push origin main
```

## ğŸ”§ å¦‚æœä»ç„¶å¤±è´¥

### ä½¿ç”¨ SSHï¼ˆæœ€ç¨³å®šï¼‰

```bash
# 1. æ£€æŸ¥ SSH å¯†é’¥
ls -la ~/.ssh/id_*

# 2. å¦‚æœæ²¡æœ‰ï¼Œç”Ÿæˆ SSH å¯†é’¥
ssh-keygen -t ed25519 -C "your_email@example.com"

# 3. æ·»åŠ å…¬é’¥åˆ° GitHub
cat ~/.ssh/id_ed25519.pub
# å¤åˆ¶åˆ° GitHub: Settings -> SSH and GPG keys -> New SSH key

# 4. ä¿®æ”¹è¿œç¨‹åœ°å€
git remote set-url origin git@github.com:rryy2023/qt-user-tools.git

# 5. æµ‹è¯•å¹¶æ¨é€
ssh -T git@github.com
git push origin main
```

### ä½¿ç”¨ GitHub CLI

```bash
# å¦‚æœå®‰è£…äº† gh
gh auth login
git push origin main
```

## ğŸ“‹ éªŒè¯

```bash
# æŸ¥çœ‹é…ç½®
git config http.postBuffer
git config http.maxRequestBuffer

# æŸ¥çœ‹è¿œç¨‹åœ°å€
git remote -v

# æµ‹è¯•è¿æ¥
git fetch --dry-run
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å¤§æ–‡ä»¶**ï¼šç¡®ä¿ `.gitignore` æ­£ç¡®é…ç½®ï¼Œæ’é™¤ `dist/`ã€`build/`ã€`venv/` ç­‰
2. **ç½‘ç»œ**ï¼šå¦‚æœç½‘ç»œä¸ç¨³å®šï¼Œå¯ä»¥å¤šæ¬¡é‡è¯•
3. **æƒé™**ï¼šç¡®ä¿æœ‰æ¨é€æƒé™

## ğŸ¯ æ¨èæ–¹æ¡ˆ

**æœ€ä½³æ–¹æ¡ˆ**ï¼šä½¿ç”¨ SSH

1. æ›´ç¨³å®š
2. ä¸å— HTTP ç¼“å†²åŒºé™åˆ¶
3. æ›´å®‰å…¨
4. é€Ÿåº¦æ›´å¿«
