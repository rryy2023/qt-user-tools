# 打包文件命名规范

## 命名规则

所有打包文件遵循统一的命名规范，便于识别平台和版本。

### 格式

```
{应用英文名}_v{版本号}_{平台标识}.{扩展名}
```

### 示例

- `QiantuTroubleshooter_v0.0.1_macOS-ARM64.dmg`
- `QiantuTroubleshooter_v0.0.1_macOS-Intel.dmg`
- `QiantuTroubleshooter_v0.0.1_Windows-x64.exe`

## 平台标识

| 平台 | 标识 | 说明 |
|------|------|------|
| macOS ARM64 | `macOS-ARM64` | Apple Silicon (M1/M2/M3) |
| macOS Intel | `macOS-Intel` | Intel x86_64 |
| Windows | `Windows-x64` | Windows 64位 |

## 文件类型

### macOS

- **.app** - 应用包（目录）
  - 命名：`千图网问题解决工具.app`（保持中文，用于系统显示）
  
- **.dmg** - 磁盘镜像安装包
  - 命名：`QiantuTroubleshooter_v{版本}_macOS-{架构}.dmg`
  - 示例：`QiantuTroubleshooter_v0.0.1_macOS-ARM64.dmg`

- **.zip** - 压缩包（可选）
  - 命名：`QiantuTroubleshooter_v{版本}_macOS-{架构}.zip`
  - 示例：`QiantuTroubleshooter_v0.0.1_macOS-ARM64.zip`

### Windows

- **.exe** - 可执行文件
  - 命名：`QiantuTroubleshooter_v{版本}_Windows-x64.exe`
  - 示例：`QiantuTroubleshooter_v0.0.1_Windows-x64.exe`

- **.zip** - 压缩包（可选）
  - 命名：`QiantuTroubleshooter_v{版本}_Windows-x64.zip`
  - 示例：`QiantuTroubleshooter_v0.0.1_Windows-x64.zip`

## 版本号格式

- 格式：`v{主版本}.{次版本}.{修订版本}`
- 示例：`v0.0.1`, `v1.2.3`

## 输出目录结构

```
dist/
├── mac_arm64/
│   ├── 千图网问题解决工具.app          # 应用包（中文名）
│   ├── QiantuTroubleshooter_v0.0.1_macOS-ARM64.dmg
│   └── QiantuTroubleshooter_v0.0.1_macOS-ARM64.zip
├── mac_intel/
│   ├── 千图网问题解决工具.app
│   ├── QiantuTroubleshooter_v0.0.1_macOS-Intel.dmg
│   └── QiantuTroubleshooter_v0.0.1_macOS-Intel.zip
└── windows/
    ├── QiantuTroubleshooter_v0.0.1_Windows-x64.exe
    └── QiantuTroubleshooter_v0.0.1_Windows-x64.zip
```

## 命名优势

1. **清晰识别** - 文件名包含平台和架构信息
2. **版本管理** - 版本号明确，便于管理
3. **统一规范** - 所有平台使用相同的命名规则
4. **易于分发** - 文件名清晰，用户容易识别

## 修改命名规范

如需修改命名规范，编辑 `build_all_platforms.sh` 中的 `get_output_name()` 函数：

```bash
get_output_name() {
    local platform=$1
    local format=$2
    
    case "$platform" in
        "mac-arm64")
            case "$format" in
                "dmg") echo "${APP_NAME_EN}_v${VERSION}_macOS-ARM64.dmg" ;;
                "zip") echo "${APP_NAME_EN}_v${VERSION}_macOS-ARM64.zip" ;;
            esac
            ;;
        # ... 其他平台
    esac
}
```

## 示例输出

运行 `./build_all_platforms.sh --all` 后，会生成：

```
dist/
├── mac_arm64/
│   ├── 千图网问题解决工具.app
│   ├── QiantuTroubleshooter_v0.0.1_macOS-ARM64.dmg (37MB)
│   └── QiantuTroubleshooter_v0.0.1_macOS-ARM64.zip (35MB)
├── mac_intel/
│   ├── 千图网问题解决工具.app
│   ├── QiantuTroubleshooter_v0.0.1_macOS-Intel.dmg
│   └── QiantuTroubleshooter_v0.0.1_macOS-Intel.zip
└── windows/
    ├── QiantuTroubleshooter_v0.0.1_Windows-x64.exe
    └── QiantuTroubleshooter_v0.0.1_Windows-x64.zip
```
